# Claude Code Toolkit

Productivity tools for Claude Code development workflows.

## Features

### üìù Slash Commands

#### `/dev-docs`
Create comprehensive strategic plans with structured task breakdown.

**Usage**:
```
/dev-docs refactor authentication system
/dev-docs implement microservices architecture
```

**What it does**:
- Analyzes requirements and context
- Examines relevant files
- Creates actionable, structured plans
- Breaks down complex tasks into phases
- Provides implementation guidance

#### `/dev-docs-update`
Update development documentation before context compaction.

**Usage**:
```
/dev-docs-update
/dev-docs-update focus on API changes
```

**What it does**:
- Reviews recent changes
- Updates project documentation
- Maintains development context
- Prepares for context optimization

### ü™ù Automation Hooks

#### Setup Skill Rules
**Event**: `SessionStart`

Automatically initializes or updates `.claude/skills/skill-rules.json` by analyzing your project and asking clarifying questions.

**Features**:
- **Intelligent Project Analysis**: Detects technologies, frameworks, and project types
- **Interactive Setup**: Claude asks about your project goals and preferences
- **Auto-Detection**: Analyzes dependencies, directory structure, and README
- **Smart Updates**: Offers to update when project evolves (new dependencies, structure changes)
- **Zero Configuration**: Works automatically for new users - no manual setup required
- **Technology Detection**: Recognizes React, Vue, Django, FastAPI, TensorFlow, and more
- **Customizable**: Generates skill-rules.json tailored to your specific project

**What it detects**:
- Project types (Frontend, Backend, Data Science, Testing, etc.)
- Technologies and frameworks from package.json, pyproject.toml, requirements.txt
- Directory structure patterns
- Existing custom skills

**Behavior**:
- **First run**: Prompts interactive setup and generates initial configuration
- **Existing config**: Detects changes and offers updates when needed
- **Up-to-date**: Runs silently without output

#### Skill Activation Prompt
**Event**: `UserPromptSubmit`

Automatically suggests relevant skills based on your prompts by analyzing keywords and intent patterns.

**Features**:
- Keyword matching for skill activation
- Intent pattern recognition
- Priority-based skill suggestions (Critical, Recommended, Suggested, Optional)
- Works with skill-rules.json generated by Setup Skill Rules hook

#### Post-Tool-Use Tracker
**Event**: `PostToolUse` (Edit, MultiEdit, Write)

Tracks file modifications and automatically detects available Python/UV project commands.

**Features**:
- Monitors Python project edits
- Auto-detects project structure
- Identifies available commands (ruff, pytest, mypy, etc.)
- Session-based file tracking
- Smart skip patterns for cache/generated files

See [.claude/hooks/README.md](.claude/hooks/README.md) for detailed hook documentation.

## Installation

### Quick Setup (Copy to Your Project)

1. **Clone or download this repository**

2. **Copy the `.claude` directory to your project root**:
```bash
cp -r .claude /path/to/your/project/
```

3. **Install hook dependencies**:
```bash
cd /path/to/your/project/.claude/hooks/
npm install
```

4. **Make hooks executable**:
```bash
chmod +x /path/to/your/project/.claude/hooks/*.sh
```

5. **Start Claude Code in your project**

The hooks and commands will be automatically available:
- `/dev-docs` - Strategic planning
- `/dev-docs-update` - Documentation updates
- Hooks activate automatically on configured events

### What Happens on First Run

When you start Claude Code with this toolkit:

1. **SessionStart Hook**: Automatically analyzes your project
2. **Interactive Setup**: Claude asks about your project goals
3. **Skill Configuration**: Generates `.claude/skills/skill-rules.json` tailored to your project
4. **Ready to Use**: All hooks and commands are immediately functional

### For Repository Distribution

If you want others to use this toolkit:

1. **Include `.claude` directory** in your repository
2. **Add installation instructions** in your README
3. **Users clone and start**: Everything works automatically
4. **No manual configuration**: Setup hook handles initialization

## Configuration

### Automatic Configuration

The toolkit handles most configuration automatically:

- **Skill Rules**: Generated automatically by the `setup-skill-rules` hook on first run
- **Hooks**: Pre-configured in `.claude/hooks/hooks.json`
- **Commands**: Immediately available after copying `.claude` directory

### Manual Skill Rules (Advanced)

If you want to manually create or modify `.claude/skills/skill-rules.json`:

```json
{
  "version": "1.0.0",
  "skills": {
    "your-skill": {
      "type": "domain",
      "enforcement": "suggest",
      "priority": "high",
      "description": "Your skill description",
      "promptTriggers": {
        "keywords": ["keyword1", "keyword2"],
        "intentPatterns": ["(create|generate).*?pattern"]
      }
    }
  }
}
```

**Note**: The setup hook will offer to update this file when it detects project changes.

## Requirements

- **Claude Code**: Latest version
- **Node.js**: For TypeScript hooks
- **jq**: For JSON parsing in bash hooks
- **UV**: For Python project command detection (optional)

## Project Structure

```
claude-code-toolkit/
‚îú‚îÄ‚îÄ .claude/
‚îÇ   ‚îú‚îÄ‚îÄ commands/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dev-docs.md              # Strategic planning command
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ dev-docs-update.md       # Documentation update command
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks.json               # Hook configuration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ package.json             # TypeScript dependencies
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ setup-skill-rules.ts     # Skill rules setup logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ setup-skill-rules.sh     # Skill rules setup wrapper
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ skill-activation-prompt.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ skill-activation-prompt.sh
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ post-tool-use-tracker.sh
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md                # Detailed hook documentation
‚îÇ   ‚îî‚îÄ‚îÄ settings.local.json          # Local settings
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ LICENSE
```

## Use Cases

### Development Workflow
- Plan complex features with `/dev-docs`
- Automatic skill activation for specialized tasks
- Track file changes across sessions
- Auto-detect available project commands

### Python/UV Projects
- Automatic detection of ruff, pytest, mypy
- FastAPI dev server identification
- Project structure awareness
- Session-based command tracking

### Team Collaboration
- Consistent planning methodology
- Standardized documentation updates
- Shared hook configurations
- Reproducible development workflows

## Troubleshooting

### Commands Not Available
- Verify `.claude/commands/` directory exists in your project
- Check that command files are present: `ls .claude/commands/`
- Restart Claude Code
- Commands should appear as `/dev-docs` and `/dev-docs-update` (no prefix)

### Hooks Not Triggering
- Verify hook scripts are executable: `chmod +x .claude/hooks/*.sh`
- Check Node.js installation: `node --version`
- Install hook dependencies: `cd .claude/hooks/ && npm install`
- Verify `.claude/hooks/hooks.json` exists
- Review Claude Code logs for hook errors

### Setup Skill Rules Not Running
- Check Node.js and npx are available
- Ensure `setup-skill-rules.sh` is executable
- Try restarting Claude Code to trigger SessionStart
- Check for errors in hook output

### Skill Activation Not Working
- Wait for `setup-skill-rules` hook to run on SessionStart (generates config automatically)
- Or manually create `.claude/skills/skill-rules.json`
- Verify JSON syntax is valid
- Test with configured keywords in prompts

## Contributing

Contributions welcome! Please:
1. Fork the repository
2. Create a feature branch
3. Submit a pull request

## License

MIT License - See [LICENSE](LICENSE) file for details.

## Author

**Aswin Sreenivas**
- Email: awinsreenivas@gmail.com
- GitHub: [@drag88](https://github.com/drag88)

## Version History

- **1.1.0** (2025-01-13): Enhanced automation
  - Added setup-skill-rules hook for automatic skill configuration
  - Moved to project-level `.claude/` structure (no plugin prefix needed)
  - Simplified installation (copy `.claude/` to any project)
  - Interactive project analysis and skill generation
  - Smart update detection for evolving projects

- **1.0.0** (2025-01-11): Initial release
  - Strategic planning commands (`/dev-docs`, `/dev-docs-update`)
  - Skill activation hook
  - Python project tracker hook

## Support

For issues or questions:
- Open an issue on [GitHub](https://github.com/drag88/claude-code-toolkit/issues)
- Check [.claude/hooks/README.md](.claude/hooks/README.md) for detailed hook documentation
- Review troubleshooting section above
